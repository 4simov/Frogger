


class Carte{
	 String[][] tab;
	
	String[][] getTab(){ return this.tab; }
	
	String getTabP(int x, int y){ return this.tab[x][y]; }
	
	synchronized void setTab(int i,int j,String val){
		tab[i][j]=val;
	}
	
	public Carte(){
		this.tab=new String[13][20];
		
		for(int i=0; i<13; i++){
			for(int j=0;j<20;j++){
				tab[i][j]=" ";
			}
		}
		
		
	}
	public void initia(int niveau){
		if(niveau==1){
			String nouvtab[][]={ 
				{" ","G"," "," "," ","G"," "," "," ","G"," "," "," "," ","G"," "," "," ","G"," "},
				{"0","0","0","0",".",".","0","0","0","0",".",".","0","0","0","0",".",".",".","."},
				{".",".",".",".",".",".",".","9","9",".",".","9","9",".",".","9","9",".",".","."},
				{".","0","0","0","0","0","0",".",".",".","0","0","0","0","0","0",".",".",".","."},
				{"0","0",".",".","0","0",".",".","0","0",".",".","0","0",".",".","0","0",".","."},
				{".","9","9","9",".",".","9","9","9",".",".",".",".",".",".","9","9","9",".","."},
				{" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "},
				{"1","1","1","1"," "," "," "," "," "," "," ","1","1","1","1"," "," "," "," "," "},
				{" "," "," "," "," ","1","1","1"," "," "," "," "," "," "," ","1","1","1"," "," "},
				{" "," "," "," "," "," "," ","1","1"," "," "," "," "," "," "," ","1","1"," "," "},
				{" "," "," "," "," "," "," "," "," "," "," "," ","1","1"," "," "," "," "," "," "},
				{" ","1","1","1"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "},
				{" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "}
				
			};
			for(int i=0;i<13;i++){
				for(int j=0;j<20;j++){
					this.tab[i][j]=nouvtab[i][j];
				}
			}
		}
		if(niveau==2){
			String nouvtab[][]={ 
				{" ","G"," "," "," ","G"," "," "," ","G"," "," "," "," ","G"," "," "," ","G"," "},
				{".",".",".",".",".","0","0","0","0",".",".",".",".",".",".","0","0","0","0","."},
				{".",".",".",".",".",".",".",".",".",".",".","9","9",".",".","9","9",".",".","."},
				{".","0","0","0","0","0","0",".",".",".","0","0","0","0","0","0",".",".",".","."},
				{"0","0",".",".",".",".",".",".","0","0",".",".","0","0",".",".",".",".",".","."},
				{".","9","9","9",".",".","9","9","9",".",".",".",".",".",".",".",".",".",".","."},
				{" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "},
				{"1","1","1","1"," "," "," "," "," "," "," ","1","1","1","1"," "," "," "," "," "},
				{" "," "," "," "," ","1","1","1"," "," "," "," "," "," "," ","1","1","1"," "," "},
				{" ","1","1"," "," "," "," ","1","1"," "," "," "," "," "," "," ","1","1"," "," "},
				{" "," "," "," ","1","1"," "," "," "," "," "," ","1","1"," "," "," "," ","1","1"},
				{" ","1","1","1"," "," "," "," "," "," "," "," ","1","1","1"," "," "," "," "," "},
				{" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "}
				
			};
			for(int i=0;i<13;i++){
				for(int j=0;j<20;j++){
					tab[i][j]=nouvtab[i][j];
				}
			}
		}
		if(niveau==3){
			String nouvtab[][]={ 
				{" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "},
				{" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "},
				{" "," ","1","1","1","1","1"," "," "," ","1","1","1","1","1"," "," "," "," "," "},
				{" "," ","1"," "," "," "," "," "," "," ","1"," "," "," "," "," "," "," "," "," "},
				{" "," ","1"," "," "," "," "," "," "," ","1"," "," "," "," "," "," "," "," "," "},
				{" "," ","1"," "," "," "," "," "," "," ","1"," "," "," "," "," "," "," "," "," "},
				{" "," ","1"," ","1","1","1"," "," "," ","1"," ","1","1","1"," "," "," "," "," "},
				{" "," ","1"," ","1"," ","1"," "," "," ","1"," ","1"," ","1"," "," "," "," "," "},
				{" "," ","1"," "," "," ","1"," "," "," ","1"," "," "," ","1"," "," "," "," "," "},
				{" "," ","1","1","1","1","1"," "," "," ","1","1","1","1","1"," "," "," "," "," "},
				{" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "},
				{" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "},
				{" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "}
			};
			for(int i=0;i<13;i++){
				for(int j=0;j<20;j++){
					tab[i][j]=nouvtab[i][j];
				}
			}
		}
		if(niveau==4){
			String nouvtab[][]={ 
				{" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "},
				{" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "},
				{" ","1"," "," "," ","1"," ","1"," "," "," ","1"," ","1"," "," "," "," "," "," "},
				{" ","1","1"," "," ","1"," ","1"," "," "," ","1"," ","1"," "," "," "," "," "," "},
				{" ","1","1"," "," ","1"," ","1"," "," "," ","1"," ","1"," "," "," "," "," "," "},
				{" ","1"," ","1"," ","1"," ","1"," "," "," ","1"," ","1"," "," "," "," "," "," "},
				{" ","1"," ","1"," ","1"," ","1"," "," "," ","1"," ","1"," "," "," "," "," "," "},
				{" ","1"," "," ","1","1"," ","1"," "," "," ","1"," ","1"," "," "," "," "," "," "},
				{" ","1"," "," ","1","1"," ","1"," "," "," ","1"," ","1"," "," "," "," "," "," "},
				{" ","1"," "," "," ","1"," ","1"," "," "," ","1"," ","1"," "," "," "," "," "," "},
				{" ","1"," "," "," ","1"," ","1","1","1","1","1"," ","1","1","1","1","1"," "," "},
				{" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "},
				{" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "}
			};
			for(int i=0;i<13;i++){
				for(int j=0;j<20;j++){
					tab[i][j]=nouvtab[i][j];
				}
			}
		}
	}
	
	
	
	public void update(int ligne,String gauche){
		String retient;
		if(gauche=="gauche"){
			retient=tab[ligne][19];
			for(int j=19;j>0;j--){
				tab[ligne][j]=tab[ligne][j-1];
			}
			tab[ligne][0]=retient;
		}
		if(gauche=="droite"){
			retient=tab[ligne][0];
			for(int j=1;j<20;j++){
				tab[ligne][j-1]=tab[ligne][j];
			}
			tab[ligne][19]=retient;
		}
	}
	
	synchronized boolean collision(int x, int y, String val){
		
		return((tab[x][y]=="1" && val=="4") || (tab[x][y]=="4" && val=="1"));	
	}
	
	
	synchronized void Afficher(){
		System.out.println("  ------------------------------------------");
		for(int i=0;i<13;i++){
			System.out.print(" | ");
			for(int j=0;j<20;j++){
				System.out.print(tab[i][j]+" ");
			}
			System.out.println(" | ");
		}
		System.out.println("  ------------------------------------------");
	}
	
	
	void effacer(){
		for(int i=0; i<13; i++){
			for(int j=0;j<20;j++){
				tab[i][j]=" ";
			}
		}
	}
}
